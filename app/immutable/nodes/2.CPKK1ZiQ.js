import{t as C,a as N,c as ke}from"../chunks/Brkk1k0A.js";import{i as re}from"../chunks/8yMJQVGp.js";import{h as T,a as xe,b as Be,i as c,ac as te,c as we,r as le,s as ue,d as Z,g as q,a0 as De,e as me,f as ge,p as Te,a4 as pe,X as Ie,m as U,ap as ce,aq as Q,P as de,ar as $e,as as Ae,at as Ee,a3 as Me,au as Ne,A as Le,av as Ce,aw as Re,Z as He,ax as Fe,ay as Oe,az as Pe,aA as Ue,v as Ve,a7 as qe,C as ae,aB as G,aC as ze,D as he,F as ne,G as p,k as P,I as h,J as S,B as Ge,aD as F,aE as Ye}from"../chunks/BNSLW5Ar.js";import{a as Xe,l as Je,e as M,s as z,b as Ke}from"../chunks/D2OmvLxN.js";import{i as oe,s as se,a as ie}from"../chunks/BlC6zja8.js";import{w as Ze,o as _e,a as Qe}from"../chunks/8X2Qlqm2.js";function We(e,r){return r}function je(e,r,n,o){for(var t=[],s=r.length,a=0;a<s;a++)Ee(r[a].e,t,!0);var f=s>0&&t.length===0&&n!==null;if(f){var m=n.parentNode;Me(m),m.append(n),o.clear(),O(e,r[0].prev,r[s-1].next)}Ne(t,()=>{for(var _=0;_<s;_++){var i=r[_];f||(o.delete(i.k),O(e,i.prev,i.next)),Le(i.e,!f)}})}function er(e,r,n,o,t,s=null){var a=e,f={flags:r,items:new Map,first:null};T&&xe();var m=null,_=!1,i=te(()=>{var g=n();return Ie(g)?g:g==null?[]:pe(g)});Be(()=>{var g=c(i),v=g.length;if(_&&v===0)return;_=v===0;let l=!1;if(T){var d=a.data===we;d!==(v===0)&&(a=le(),ue(a),Z(!1),l=!0)}if(T){for(var k=null,y,u=0;u<v;u++){if(q.nodeType===8&&q.data===De){a=q,l=!0,Z(!1);break}var b=g[u],w=o(b,u);y=be(q,f,k,null,b,w,u,t,r,n),f.items.set(w,y),k=y}v>0&&ue(le())}T||rr(g,f,a,t,r,o,n),s!==null&&(v===0?m?me(m):m=ge(()=>s(a)):m!==null&&Te(m,()=>{m=null})),l&&Z(!0),c(i)}),T&&(a=q)}function rr(e,r,n,o,t,s,a){var f=e.length,m=r.items,_=r.first,i=_,g,v=null,l=[],d=[],k,y,u,b;for(b=0;b<f;b+=1){if(k=e[b],y=s(k,b),u=m.get(y),u===void 0){var w=i?i.e.nodes_start:n;v=be(w,r,v,v===null?r.first:v.next,k,y,b,o,t,a),m.set(y,v),l=[],d=[],i=v.next;continue}if(tr(u,k,b),(u.e.f&Q)!==0&&me(u.e),u!==i){if(g!==void 0&&g.has(u)){if(l.length<d.length){var B=d[0],x;v=B.prev;var I=l[0],A=l[l.length-1];for(x=0;x<l.length;x+=1)ve(l[x],B,n);for(x=0;x<d.length;x+=1)g.delete(d[x]);O(r,I.prev,A.next),O(r,v,I),O(r,A,B),i=B,v=A,b-=1,l=[],d=[]}else g.delete(u),ve(u,i,n),O(r,u.prev,u.next),O(r,u,v===null?r.first:v.next),O(r,v,u),v=u;continue}for(l=[],d=[];i!==null&&i.k!==y;)(i.e.f&Q)===0&&(g??(g=new Set)).add(i),d.push(i),i=i.next;if(i===null)continue;u=i}l.push(u),v=u,i=u.next}if(i!==null||g!==void 0){for(var D=g===void 0?[]:pe(g);i!==null;)(i.e.f&Q)===0&&D.push(i),i=i.next;var R=D.length;if(R>0){var H=null;je(r,D,H,m)}}de.first=r.first&&r.first.e,de.last=v&&v.e}function tr(e,r,n,o){Ae(e.v,r),e.i=n}function be(e,r,n,o,t,s,a,f,m,_){var i=(m&Ce)!==0,g=(m&Re)===0,v=i?g?U(t):ce(t):t,l=(m&$e)===0?a:ce(a),d={i:l,v,k:s,a:null,e:null,prev:n,next:o};try{return d.e=ge(()=>f(e,v,l,_),T),d.e.prev=n&&n.e,d.e.next=o&&o.e,n===null?r.first=d:(n.next=d,n.e.next=d.e),o!==null&&(o.prev=d,o.e.prev=d.e),d}finally{}}function ve(e,r,n){for(var o=e.next?e.next.e.nodes_start:n,t=r?r.e.nodes_start:n,s=e.e.nodes_start;s!==o;){var a=He(s);t.before(s),s=a}}function O(e,r,n){r===null?e.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}function ar(e,r,n){var o=e==null?"":""+e;return o===""?null:o}function nr(e,r){return e==null?null:String(e)}function Se(e,r,n,o,t,s){var a=e.__className;if(T||a!==n||a===void 0){var f=ar(n);(!T||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=n}return s}function or(e,r,n,o){var t=e.__style;if(T||t!==r){var s=nr(r);(!T||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=r}return o}const sr=Symbol("is custom element"),ir=Symbol("is html");function Y(e){if(T){var r=!1,n=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;fe(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var t=e.checked;fe(e,"checked",null),e.checked=t}}};e.__on_r=n,Fe(n),Xe()}}function fe(e,r,n,o){var t=lr(e);T&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=n)&&(r==="loading"&&(e[Oe]=n),e.removeAttribute(r))}function lr(e){return e.__attributes??(e.__attributes={[sr]:e.nodeName.includes("-"),[ir]:e.namespaceURI===Pe})}function X(e,r,n=r){var o=Ue();Je(e,"input",t=>{var s=t?e.defaultValue:e.value;if(s=W(e)?j(s):s,n(s),o&&s!==(s=r())){var a=e.selectionStart,f=e.selectionEnd;e.value=s??"",f!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(f,e.value.length))}}),(T&&e.defaultValue!==e.value||Ve(r)==null&&e.value)&&n(W(e)?j(e.value):e.value),qe(()=>{var t=r();W(e)&&t===j(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function W(e){var r=e.type;return r==="number"||r==="range"}function j(e){return e===""?null:+e}const ee={pomodoroDuration:25*60,shortBreakDuration:5*60,longBreakDuration:15*60,longBreakInterval:4},ur={currentSession:{type:"pomodoro",duration:ee.pomodoroDuration,remaining:ee.pomodoroDuration,status:"idle"},completedSessions:[],settings:ee};function cr(){const{subscribe:e,set:r,update:n}=Ze(ur);return{subscribe:e,startTimer:()=>{n(o=>({...o,currentSession:{...o.currentSession,status:"running"}}))},pauseTimer:()=>{n(o=>({...o,currentSession:{...o.currentSession,status:"paused"}}))},resetTimer:()=>{n(o=>({...o,currentSession:{...o.currentSession,remaining:o.currentSession.duration,status:"idle"}}))},updateRemaining:o=>{n(t=>({...t,currentSession:{...t.currentSession,remaining:o}}))},completeSession:()=>{n(o=>{const t={...o.currentSession,status:"idle",completedAt:new Date},s=o.currentSession.type==="pomodoro"?(o.completedSessions.filter(f=>f.type==="pomodoro").length+1)%o.settings.longBreakInterval===0?"longBreak":"shortBreak":"pomodoro",a=o.settings[s==="pomodoro"?"pomodoroDuration":s==="shortBreak"?"shortBreakDuration":"longBreakDuration"];return{...o,currentSession:{type:s,duration:a,remaining:a,status:"idle"},completedSessions:[...o.completedSessions,t]}})},updateSettings:o=>{n(t=>{const s={...t.settings,...o},a=t.currentSession.type,f=s[a==="pomodoro"?"pomodoroDuration":a==="shortBreak"?"shortBreakDuration":"longBreakDuration"];return{...t,settings:s,currentSession:{...t.currentSession,duration:f,remaining:f,status:"idle"}}})}}}const L=cr();var dr=C('<button class="px-6 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors">Pause</button>'),vr=C('<button class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors">Start</button>'),fr=C('<div class="flex flex-col items-center justify-center p-8"><div class="w-full max-w-md"><div class="relative"><div class="w-full h-4 bg-gray-200 rounded-full overflow-hidden"><div></div></div></div> <div class="mt-8 text-center"><h2 class="text-2xl font-bold mb-2"> </h2> <div class="text-6xl font-mono font-bold my-8"> </div> <div class="flex justify-center gap-4"><!> <button class="px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors">Reset</button></div></div></div></div>');function mr(e,r){ae(r,!1);const[n,o]=se(),t=()=>ie(L,"$timerStore",n),s=U(),a=U(),f=U(),m=U();let _,i;function g(){t().currentSession.status!=="running"&&(L.startTimer(),_=window.setInterval(()=>{if(t().currentSession.remaining<=0){d();return}L.updateRemaining(t().currentSession.remaining-1)},1e3))}function v(){t().currentSession.status==="running"&&(L.pauseTimer(),clearInterval(_))}function l(){clearInterval(_),L.resetTimer()}function d(){clearInterval(_),i.play(),L.completeSession()}function k(E){switch(E){case"pomodoro":return"bg-red-500";case"shortBreak":return"bg-green-500";case"longBreak":return"bg-blue-500";default:return"bg-gray-500"}}_e(()=>{i=new Audio("/notification.mp3")}),Qe(()=>{clearInterval(_)}),G(()=>t(),()=>{P(s,Math.floor(t().currentSession.remaining/60))}),G(()=>t(),()=>{P(a,t().currentSession.remaining%60)}),G(()=>(c(s),c(a)),()=>{P(f,`${c(s).toString().padStart(2,"0")}:${c(a).toString().padStart(2,"0")}`)}),G(()=>t(),()=>{P(m,(t().currentSession.duration-t().currentSession.remaining)/t().currentSession.duration*100)}),ze(),re();var y=fr(),u=p(y),b=p(u),w=p(b),B=p(w);h(w),h(b);var x=S(b,2),I=p(x),A=p(I,!0);h(I);var D=S(I,2),R=p(D,!0);h(D);var H=S(D,2),$=p(H);{var J=E=>{var V=dr();M("click",V,v),N(E,V)},K=E=>{var V=vr();M("click",V,g),N(E,V)};oe($,E=>{t().currentSession.status==="running"?E(J):E(K,!1)})}var ye=S($,2);h(H),h(x),h(u),h(y),he(E=>{Se(B,1,`h-full transition-all duration-1000 ease-linear ${E??""}`),or(B,`width: ${c(m)??""}%`),z(A,t().currentSession.type==="pomodoro"?"Focus Time":t().currentSession.type==="shortBreak"?"Short Break":"Long Break"),z(R,c(f))},[()=>k(t().currentSession.type)],te),M("click",ye,l),N(e,y),ne(),o()}var gr=C('<p class="text-gray-500 text-center py-4">No completed sessions yet</p>'),pr=C('<div class="bg-white shadow rounded-lg p-4 flex justify-between items-center"><div><span> </span> <p class="text-sm text-gray-500"> </p></div> <div class="text-sm text-gray-600"> </div></div>'),hr=C('<div class="w-full max-w-md mx-auto p-4"><h2 class="text-xl font-bold mb-4">Session History</h2> <div class="space-y-2"><!></div></div>');function _r(e,r){ae(r,!1);const[n,o]=se(),t=()=>ie(L,"$timerStore",n);function s(l){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(l)}function a(l){switch(l){case"pomodoro":return"Focus Session";case"shortBreak":return"Short Break";case"longBreak":return"Long Break";default:return l}}function f(l){switch(l){case"pomodoro":return"text-red-500";case"shortBreak":return"text-green-500";case"longBreak":return"text-blue-500";default:return"text-gray-500"}}re();var m=hr(),_=S(p(m),2),i=p(_);{var g=l=>{var d=gr();N(l,d)},v=l=>{var d=ke(),k=Ge(d);er(k,1,()=>t().completedSessions.slice().reverse(),We,(y,u)=>{var b=pr(),w=p(b),B=p(w),x=p(B,!0);h(B);var I=S(B,2),A=p(I,!0);h(I),h(w);var D=S(w,2),R=p(D);h(D),h(b),he((H,$,J,K)=>{Se(B,1,`font-medium ${H??""}`),z(x,$),z(A,J),z(R,`${K??""} min`)},[()=>f(c(u).type),()=>a(c(u).type),()=>s(c(u).completedAt),()=>Math.floor(c(u).duration/60)],te),N(y,b)}),N(l,d)};oe(i,l=>{t().completedSessions.length===0?l(g):l(v,!1)})}h(_),h(m),N(e,m),ne(),o()}var br=C('<div class="mt-4 bg-white rounded-lg shadow-lg p-6"><h3 class="text-lg font-semibold mb-4">Timer Settings</h3> <div class="space-y-4"><div><label for="pomodoro" class="block text-sm font-medium text-gray-700">Focus Duration (minutes)</label> <input type="number" id="pomodoro" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="1" max="60"></div> <div><label for="shortBreak" class="block text-sm font-medium text-gray-700">Short Break Duration (minutes)</label> <input type="number" id="shortBreak" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="1" max="30"></div> <div><label for="longBreak" class="block text-sm font-medium text-gray-700">Long Break Duration (minutes)</label> <input type="number" id="longBreak" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="1" max="60"></div> <div><label for="interval" class="block text-sm font-medium text-gray-700">Long Break Interval (focus sessions)</label> <input type="number" id="interval" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" min="1" max="10"></div></div> <div class="mt-6 flex justify-end gap-3"><button class="px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">Cancel</button> <button class="px-4 py-2 text-white bg-blue-500 hover:bg-blue-600 rounded-lg transition-colors">Save Changes</button></div></div>'),Sr=C('<div class="w-full max-w-md mx-auto p-4"><button class="w-full px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg transition-colors flex items-center justify-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path></svg> Settings</button> <!></div>');function yr(e,r){ae(r,!1);const[n,o]=se(),t=()=>ie(L,"$timerStore",n);let s=U(!1),a=U({pomodoroDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4});_e(()=>{P(a,{pomodoroDuration:t().settings.pomodoroDuration/60,shortBreakDuration:t().settings.shortBreakDuration/60,longBreakDuration:t().settings.longBreakDuration/60,longBreakInterval:t().settings.longBreakInterval})});function f(){L.updateSettings({pomodoroDuration:c(a).pomodoroDuration*60,shortBreakDuration:c(a).shortBreakDuration*60,longBreakDuration:c(a).longBreakDuration*60,longBreakInterval:c(a).longBreakInterval}),P(s,!1)}function m(l,d,k){return Math.min(Math.max(l,d),k)}re();var _=Sr(),i=p(_),g=S(i,2);{var v=l=>{var d=br(),k=S(p(d),2),y=p(k),u=S(p(y),2);Y(u),h(y);var b=S(y,2),w=S(p(b),2);Y(w),h(b);var B=S(b,2),x=S(p(B),2);Y(x),h(B);var I=S(B,2),A=S(p(I),2);Y(A),h(I),h(k);var D=S(k,2),R=p(D),H=S(R,2);h(D),h(d),X(u,()=>c(a).pomodoroDuration,$=>F(a,c(a).pomodoroDuration=$)),M("change",u,()=>F(a,c(a).pomodoroDuration=m(c(a).pomodoroDuration,1,60))),X(w,()=>c(a).shortBreakDuration,$=>F(a,c(a).shortBreakDuration=$)),M("change",w,()=>F(a,c(a).shortBreakDuration=m(c(a).shortBreakDuration,1,30))),X(x,()=>c(a).longBreakDuration,$=>F(a,c(a).longBreakDuration=$)),M("change",x,()=>F(a,c(a).longBreakDuration=m(c(a).longBreakDuration,1,60))),X(A,()=>c(a).longBreakInterval,$=>F(a,c(a).longBreakInterval=$)),M("change",A,()=>F(a,c(a).longBreakInterval=m(c(a).longBreakInterval,1,10))),M("click",R,()=>P(s,!1)),M("click",H,f),N(l,d)};oe(g,l=>{c(s)&&l(v)})}h(_),M("click",i,()=>P(s,!c(s))),N(e,_),ne(),o()}var kr=C('<main class="min-h-screen bg-gray-100"><div class="container mx-auto py-8"><h1 class="text-3xl font-bold text-center mb-8">Pomodoro Timer</h1> <!> <!> <!></div></main>');function $r(e){var r=kr();Ke(a=>{Ye.title="Pomodoro Timer"});var n=p(r),o=S(p(n),2);mr(o,{});var t=S(o,2);yr(t,{});var s=S(t,2);_r(s,{}),h(n),h(r),N(e,r)}export{$r as component};
